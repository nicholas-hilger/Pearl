<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>menu_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>index = 0

cost = (250) + round((player.max_hp - player.hp)*2.5)
if(cost &gt; 10000) cost = 10000

if(list_contains(player.perks_gained, perk.dog_best_friend)) cost = round(cost/2)

inventory_name = "Inn"
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>upKey = player.upKey
downKey = player.downKey
equipKey = keyboard_check_pressed(vk_enter) or gamepad_button_check_pressed(0, gp_face1)

if(!console.vis)
{
    if(upKey)
    {
        if(index = 0) index = 1
        else index--
    }
    
    if(downKey)
    {
        if(index = 1) index = 0
        else index++
    }
    
    if(equipKey)
    {
        if(index = 0)
        {
            if(player.money &gt;= cost and player.rested_time = 0)
            {
                ds_list_insert(player.messages, 0, "You partake in a good night's sleep.")
                ds_list_insert(player.messages, 0, "You have gained the 'Rested' buff.")
                player.hp = player.max_hp
                player.money -= cost
                gain_buff(buff.rested, 240)
                player.rested_time = 240
                if(controller.hour != 0 and controller.minute != 0) player.days++
                controller.hour = 8
                controller.minute = 0
                with(merchant)
                {
                    if(name != "Innkeeper") 
                    {
                        ds_list_clear(inventory)
                        repeat(5) ds_list_insert(inventory, 0, pool[irandom(array_length_1d(pool)-1)])
                    }
                }
            }
            else 
            {
                if(!player.money &gt; cost) ds_list_insert(player.messages, 0, "Sorry friend, but this bed needs more money!")
                else if(player.rested_time &gt; 0) ds_list_insert(player.messages, 0, "You're already rested!")
            }
            instance_destroy()
        }
        else
        {
            instance_destroy()
        }
        instance_destroy()
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_halign(fa_left)

draw_set_color(c_black)
draw_rectangle(8,175,308,220 + (24*2),false)  

draw_set_color(c_white)
draw_rectangle(7,174,309,220 + (24*2)+1,true)

draw_rectangle(10,215 + (24*index),306, 240 + (24*index),true)

draw_text(12,180, "Heal! Buff! Woof!")

draw_set_color(c_white)
if(player.rested_time = 0) draw_text(10, 220, "Rest: " + string(cost) + " Zun")
else draw_text(10, 220, "No rest needed")
draw_text(10, 244, "No thanks")
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
